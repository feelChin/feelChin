{"version":3,"file":"static/js/359.9ece5ac0.chunk.js","mappings":"uIACA,MAAuB,mB,SCiBvB,MAhBA,SAAcA,GACZ,IAAQC,EAAgBD,EAAhBC,MAAOC,EAASF,EAATE,KAEf,OACE,iBAAKC,UAAWC,EAAhB,WACE,cACED,UAAU,6BACVE,QAAS,WACPH,GACD,KAEH,wBAAKD,MAGV,C,8DCMD,IAlBA,YAA4B,IAAD,EAAZK,EAAY,EAAZA,SACPC,GAAWC,EAAAA,EAAAA,MAEXP,EAAK,WADMQ,EAAAA,EAAAA,MACMC,aAAZ,aAAG,EAAgBT,MAE9B,OACE,iCACE,SAAC,IAAD,CACEA,MAAOA,EACPC,KAAM,WACJK,GAAU,EACX,IAEFD,IAGN,C,wECpBGK,E,qCA2BG,IAAMC,EAAiB,WAC5BD,EAAOE,OACR,EAEYC,EAAgB,SAACC,GAC5BJ,EAAOK,KAAKD,EACb,EAEYE,EAAgB,SAACC,EAAKC,IAjCnC,SAAqBD,EAAKC,IACxBR,EAAS,IAAIS,UAAJ,eAAsBF,KACxBG,iBAAiB,SAKxB,SAAuBN,GACrBO,QAAQC,IAAI,4BACZJ,EAASJ,EACV,IAPDJ,EAAOU,iBAAiB,SASxB,WACEC,QAAQC,IAAI,2BACb,IAVDZ,EAAOU,iBAAiB,WAYxB,SAAyBN,GACvBI,EAASJ,EACV,IAbDJ,EAAOU,iBAAiB,QAexB,WACEC,QAAQC,IAAI,2BACb,GACF,CAWCC,CAAYN,EAAKC,EAClB,ECpCD,EAA4B,6BAA5B,EAA4E,oCAA5E,EAAuH,wBAAvH,EAA4J,8B,SCsE5J,MAnEA,WACE,OAA8BM,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAoCA,OACE,iCACE,oBAASxB,UAAWC,EAApB,SAZAsB,EAAQE,OAAS,GACjBF,EAAQG,KAAI,SAACC,EAAMC,GAAP,OACV,gBAEE5B,UAAWC,EACX4B,wBAAyB,CAAEC,OAAQH,IAF9BC,EAFG,OAYZ,qBAAS5B,UAAWC,EAApB,WACE,mBACEC,QAAS,WAvCfY,EAAc,sBAAsB,SAACiB,GACnC,GAAoB,UAAhBA,EAAOC,KACTR,EAAW,GAAD,eACLD,GADK,YAEL,IAAIU,MAAOC,qBAFN,wDAIL,CACL,IAAMC,EAAYZ,EAClBY,EAAUC,KAAKL,EAAOnB,MACtBY,GAAW,OAAIW,GAChB,CACF,GA8BM,EAHH,uCAOA,mBACEjC,QAAS,WACPS,GACD,EAHH,mDAOA,mBACET,QAAS,WACPO,GACD,EAHH,2CAUP,ECtDD,MAVA,WACE,OACE,SAAC,IAAD,WACE,oBAAST,UAAS,UAAKC,EAAL,SAAlB,UACE,SAAC,EAAD,OAIP,C","sources":["webpack://myreact/./src/components/head/index.module.scss?d267","components/head/index.js","components/learnWrapper/index.js","demo/websocket/websocketApi.js","webpack://myreact/./src/demo/websocket/index.module.scss?6637","demo/websocket/websocket.js","demo/websocket/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"head\":\"head_head__yl3Oi\"};","import style from \"./index.module.scss\";\r\n\r\nfunction Head(props) {\r\n  const { title, back } = props;\r\n\r\n  return (\r\n    <div className={style.head}>\r\n      <i\r\n        className=\"iconfont icon-jiantou-copy\"\r\n        onClick={() => {\r\n          back();\r\n        }}\r\n      ></i>\r\n      <h1>{title}</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Head;\r\n","import { Children } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport Head from \"../../components/head\";\r\n\r\nfunction App({ children }) {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const title = location.state?.title;\r\n\r\n  return (\r\n    <>\r\n      <Head\r\n        title={title}\r\n        back={() => {\r\n          navigate(-1);\r\n        }}\r\n      />\r\n      {children}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","let socket;\r\n\r\nfunction WebSocketFC(url, callback) {\r\n  socket = new WebSocket(`ws://${url}`);\r\n  socket.addEventListener(\"close\", socketOnClose);\r\n  socket.addEventListener(\"error\", socketOnError);\r\n  socket.addEventListener(\"message\", socketOnMessage);\r\n  socket.addEventListener(\"open\", socketOnOpen);\r\n\r\n  function socketOnClose(data) {\r\n    console.log(\"连接关闭\");\r\n    callback(data);\r\n  }\r\n\r\n  function socketOnError() {\r\n    console.log(\"连接错误\");\r\n  }\r\n\r\n  function socketOnMessage(data) {\r\n    callback(data);\r\n  }\r\n\r\n  function socketOnOpen() {\r\n    console.log(\"连接成功\");\r\n  }\r\n}\r\n\r\nexport const WebSocketClose = () => {\r\n  socket.close();\r\n};\r\n\r\nexport const WebSocketSend = (data) => {\r\n  socket.send(data);\r\n};\r\n\r\nexport const WebSocketInit = (url, callback) => {\r\n  WebSocketFC(url, callback);\r\n};\r\n\r\n// WebSocketInit('121.40.165.18:8800',(result)=>{\r\n//     console.log(result)\r\n// });\r\n","// extracted by mini-css-extract-plugin\nexport default {\"websocket\":\"websocket_websocket__lqs91\",\"websocketWrapper\":\"websocket_websocketWrapper__nvdFr\",\"item\":\"websocket_item__h+-h5\",\"buttonFlex\":\"websocket_buttonFlex__OT1hI\"};","import { useState } from \"react\";\r\nimport { WebSocketInit, WebSocketSend, WebSocketClose } from \"./websocketApi\";\r\nimport style from \"./index.module.scss\";\r\n\r\nfunction WebSocket() {\r\n  const [msgData, setMasData] = useState([]);\r\n  function sockenStart() {\r\n    WebSocketInit(\"121.40.165.18:8800\", (result) => {\r\n      if (result.type === \"close\") {\r\n        setMasData([\r\n          ...msgData,\r\n          `${new Date().toLocaleTimeString()} <br> websocket连接已关闭`,\r\n        ]);\r\n      } else {\r\n        const dataArray = msgData;\r\n        dataArray.push(result.data);\r\n        setMasData([...dataArray]);\r\n      }\r\n    });\r\n  }\r\n\r\n  function sockenSend() {\r\n    WebSocketSend(\"你好\");\r\n  }\r\n\r\n  function sockenEnd() {\r\n    WebSocketClose();\r\n  }\r\n\r\n  function renderItem() {\r\n    return (\r\n      msgData.length > 0 &&\r\n      msgData.map((item, index) => (\r\n        <div\r\n          key={index}\r\n          className={style.item}\r\n          dangerouslySetInnerHTML={{ __html: item }}\r\n        ></div>\r\n      ))\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <section className={style.websocketWrapper}>{renderItem()}</section>\r\n      <section className={style.buttonFlex}>\r\n        <button\r\n          onClick={() => {\r\n            sockenStart();\r\n          }}\r\n        >\r\n          开启连接\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            WebSocketSend();\r\n          }}\r\n        >\r\n          推送现在时间\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            WebSocketClose();\r\n          }}\r\n        >\r\n          关闭连接\r\n        </button>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default WebSocket;\r\n","import { useState, useEffect } from \"react\";\r\nimport LearnWrapper from \"../../components/learnWrapper\";\r\nimport Websocket from \"./websocket\";\r\nimport style from \"./index.module.scss\";\r\n\r\nfunction Index() {\r\n  return (\r\n    <LearnWrapper>\r\n      <section className={`${style.websocket} page`}>\r\n        <Websocket />\r\n      </section>\r\n    </LearnWrapper>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n"],"names":["props","title","back","className","style","onClick","children","navigate","useNavigate","useLocation","state","socket","WebSocketClose","close","WebSocketSend","data","send","WebSocketInit","url","callback","WebSocket","addEventListener","console","log","WebSocketFC","useState","msgData","setMasData","length","map","item","index","dangerouslySetInnerHTML","__html","result","type","Date","toLocaleTimeString","dataArray","push"],"sourceRoot":""}