{"version":3,"file":"static/js/747.67d3283f.chunk.js","mappings":"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","sources":["webpack://myreact/./src/components/head/index.module.scss?d267","components/head/index.js","components/learnWrapper/index.js","webpack://myreact/./src/demo/tableAddAndRemove/index.module.scss?68c1","demo/tableAddAndRemove/tableAddAndRemove.js","demo/tableAddAndRemove/index.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"head\":\"head_head__yl3Oi\"};","import style from \"./index.module.scss\";\r\n\r\nfunction Head(props) {\r\n  const { title, back } = props;\r\n\r\n  return (\r\n    <div className={style.head}>\r\n      <i\r\n        className=\"iconfont icon-jiantou-copy\"\r\n        onClick={() => {\r\n          back();\r\n        }}\r\n      ></i>\r\n      <h1>{title}</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Head;\r\n","import { Children } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport Head from \"../../components/head\";\r\n\r\nfunction App({ children }) {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const title = location.state?.title;\r\n\r\n  return (\r\n    <>\r\n      <Head\r\n        title={title}\r\n        back={() => {\r\n          navigate(-1);\r\n        }}\r\n      />\r\n      {children}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"tableAddAndRemove\":\"tableAddAndRemove_tableAddAndRemove__onU-5\",\"tableAddAndRemoveWrapper\":\"tableAddAndRemove_tableAddAndRemoveWrapper__MBTWD\",\"rowItem\":\"tableAddAndRemove_rowItem__ImQbw\",\"item\":\"tableAddAndRemove_item__Z4x8P\",\"remove\":\"tableAddAndRemove_remove__Lf57B\",\"add\":\"tableAddAndRemove_add__kvc49\"};","import { useMemo } from \"react\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport LearnWrapper from \"../../components/learnWrapper\";\r\nimport style from \"./index.module.scss\";\r\n\r\nlet data = [];\r\nconst column = new Map([\r\n  [\r\n    \"text\",\r\n    (data, index, cIndex) => {\r\n      const option = {\r\n        data,\r\n        index,\r\n        cIndex,\r\n      };\r\n      return <InputMap {...option} />;\r\n    },\r\n  ],\r\n  [\r\n    \"number\",\r\n    (data, index, cIndex) => {\r\n      const option = {\r\n        data,\r\n        index,\r\n        cIndex,\r\n      };\r\n      return <InputNumberMap {...option} />;\r\n    },\r\n  ],\r\n]);\r\nconst columnType = [\"text\", \"number\"];\r\n\r\nfunction InputMap(props) {\r\n  const { data, index, cIndex } = props;\r\n  const inputRef = useRef(null);\r\n  const initValue = data[index][cIndex];\r\n\r\n  useEffect(() => {\r\n    console.log(data);\r\n    if (inputRef.current) {\r\n      inputRef.current.value = initValue;\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <input\r\n      ref={inputRef}\r\n      type=\"text\"\r\n      onChange={(e) => {\r\n        const value = e.target.value;\r\n        data[index][cIndex] = value;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction InputNumberMap(props) {\r\n  const { data, index, cIndex } = props;\r\n  const inputRef = useRef(null);\r\n  const initValue = data[index][cIndex];\r\n\r\n  useEffect(() => {\r\n    if (inputRef.current) {\r\n      inputRef.current.value = initValue;\r\n    }\r\n  }, [data]);\r\n\r\n  return (\r\n    <input\r\n      ref={inputRef}\r\n      type=\"number\"\r\n      onChange={(e) => {\r\n        const value = e.target.value;\r\n        data[index][cIndex] = value;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TableAddAndRemove() {\r\n  const [init, setInit] = useState(true);\r\n  const [row, setRow] = useState(1);\r\n\r\n  function removeRow(index) {\r\n    setRow((row) => row - 1);\r\n    data.splice(index, 1);\r\n  }\r\n\r\n  function addRow() {\r\n    setRow((row) => row + 1);\r\n  }\r\n\r\n  function renderTable() {\r\n    const array = new Array(row).fill([]);\r\n\r\n    const dataArray = [];\r\n    array.forEach((item, index) => {\r\n      const dataItem = data[index];\r\n\r\n      if (dataItem) {\r\n        dataArray.push(dataItem);\r\n      } else {\r\n        dataArray.push([]);\r\n      }\r\n\r\n      columnType.forEach((cItem, cIndex) => {\r\n        if (dataItem && dataItem[cIndex]) {\r\n          dataArray[index][cIndex] = dataItem[cIndex];\r\n        } else {\r\n          dataArray[index].push([]);\r\n        }\r\n      });\r\n    });\r\n\r\n    data = dataArray;\r\n\r\n    return array.map((item, index) => (\r\n      <section className={style.rowItem} key={index}>\r\n        {columnType.map((cItem, cIndex) => (\r\n          <div key={cIndex} className={style.item}>\r\n            {column.get(cItem)(data, index, cIndex)}\r\n          </div>\r\n        ))}\r\n        {row > 1 && (\r\n          <button\r\n            onClick={() => {\r\n              removeRow(index);\r\n            }}\r\n            className={style.remove}\r\n          >\r\n            -\r\n          </button>\r\n        )}\r\n      </section>\r\n    ));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (init) {\r\n      data = [];\r\n      setInit(false);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <section className={style.tableAddAndRemoveWrapper}>\r\n        <section className={style.rowItem}>\r\n          <div className={style.item}>姓名</div>\r\n          <div className={style.item}>年龄</div>\r\n        </section>\r\n        {renderTable()}\r\n      </section>\r\n      <button\r\n        onClick={() => {\r\n          addRow();\r\n        }}\r\n        className={style.add}\r\n      >\r\n        增加\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          let text = \"\";\r\n          data.forEach((item, index) => {\r\n            text += `姓名： ${item[0]}   年龄： ${item[1]} \\n`;\r\n          });\r\n          alert(text);\r\n        }}\r\n        className={style.add}\r\n      >\r\n        打印\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TableAddAndRemove;\r\n","import { useState, useEffect } from \"react\";\r\nimport LearnWrapper from \"../../components/learnWrapper\";\r\nimport TableAddAndRemove from \"./tableAddAndRemove\";\r\nimport style from \"./index.module.scss\";\r\n\r\nfunction Index() {\r\n  return (\r\n    <LearnWrapper>\r\n      <section className={`${style.tableAddAndRemove} page`}>\r\n        <TableAddAndRemove />\r\n      </section>\r\n    </LearnWrapper>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["props","title","back","className","style","onClick","children","navigate","useNavigate","useLocation","state","data","column","Map","index","cIndex","option","InputMap","InputNumberMap","columnType","inputRef","useRef","initValue","useEffect","console","log","current","value","ref","type","onChange","e","target","useState","init","setInit","row","setRow","array","Array","fill","dataArray","forEach","item","dataItem","push","cItem","map","get","splice","removeRow","renderTable","text","alert","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","length","source","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}